<!DOCTYPE html>
<html lang="en" style="width: 100%; height: 100%;">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width">
  <title>Polyeder basteln</title>
  <script type="text/javascript" src="./viewer/cindy-viewer.js"></script>
  <style>
    /* Language Switch Hack: English / Українська */
    #switch-lang {
      color: #666;
      position: absolute;
      right: 0;
      top: 0;
      z-index: 5;
      cursor: pointer;
      padding: 5px 10px;
      font-family: inherit;
    }
    #switch-lang:hover {
      color: #fff;
    }
  </style>
</head>
<body style="background-color: #000; padding: 0; margin: 0; width: 100%; height: 100%;">
  <!-- Language Switch Hack: English / Українська -->
  <div id="switch-lang">English</div>
  <div data-cindy-src="app.html" data-cindy-lang="uk" style="width: 100%; height: 100%;"></div>
<script>
// Language Switch Hack: English / Українська
function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}
// On load: set language from URL param 'lang'
const langParam = getQueryParam('lang');
let currLang = "uk";
if (langParam === 'en' || langParam === 'uk') {
  currLang = langParam;
}
const cindyDiv = document.querySelector('div[data-cindy-src]');
cindyDiv.setAttribute('data-cindy-lang', currLang);
const switcher = document.getElementById('switch-lang');
if (currLang === 'en') {
  switcher.textContent = 'Українська';
} else {
  switcher.textContent = 'English';
}
// On click: switch language and reload with URL param 'lang'
function switchLanguage() {
  const cindyDiv = document.querySelector('div[data-cindy-src]');
  if (cindyDiv.getAttribute('data-cindy-lang') === 'uk') {
    currLang = "en";
  } else {
    currLang = "uk";
  }
  window.location.href = '?lang=' + currLang;
}
document.getElementById('switch-lang').addEventListener('click', switchLanguage);
</script>
</body>
</html>